
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>valentine day</title>

<style>
body{
  margin:0;
  height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  font-family:Arial;
  background:#d1a2b3;
}

.page{ display:none; text-align:center; }
.page.active{ display:block; }

button{
  padding:14px 40px;
  font-size:26px;
  border:none;
  border-radius:30px;
  background:#d21e57;
  color:#fff;
  cursor:pointer;
  transition:transform 0.35s ease;
}

#bgAnimation{
  position:fixed;
  inset:0;
  overflow:hidden;
  z-index:0;          /* sabse peeche */
  pointer-events:none;
}

/* saari main cheeze upar rahengi */
.page, #popup{
  position:relative;
  z-index:5;
}

.fall{
  position:absolute;
  top:-50px;
  font-size:22px;
  opacity:0.35;
  animation:fall linear forwards;
}

@keyframes fall{
  from{
    transform:translateY(0) rotate(0deg);
  }
  to{
    transform:translateY(110vh) rotate(360deg);
  }
}

#noBtn{
  background:#555;
  color:#fff;
}

.blur{ filter:blur(6px); }

#popup{
  position:fixed;
  inset:0;
  display:none;
  justify-content:center;
  align-items:center;
  background:rgba(0,0,0,0.4);
}

#popupBox{
  background:#fff;
  padding:35px;
  border-radius:20px;
  width:420px;
  text-align:center;
}

#popupQuestion{
  min-height:70px;
}

/* first state */
#btnArea{
  display:flex;
  justify-content:center;
  gap:20px;
  margin-top:25px;
  position:relative;
  height:120px;
}

/* animation state */
#btnArea.absolute{
  display:block;
}

#yesBtn.absolute{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%, -50%) scale(1);
  z-index:2;
}

#noBtn.absolute{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(120px, -50%) scale(1);
  z-index:1;
}
.heart{
  position:fixed;
  font-size:38px;
  left:50%;
  top:50%;
  font-size:24px;
  pointer-events:none;
  animation:burst 2.0s ease-out forwards;
}

@keyframes burst{
  from{
    transform:translate(-50%, -50%) scale(0.4);
    opacity:1;
  }
  to{
    transform:
      translate(calc(-50% + var(--x)), calc(-50% + var(--y)))
      scale(2.8);
    opacity:0.5;
  }
}
</style>
</head>

<body>

<audio id="loveSong" src="C:\Users\Achyut Detroja\Downloads\i-think-they-call-this-love-cover_yL7X4JrK.mp3" loop></audio>

<div id="bgAnimation"></div>

<div id="page1" class="page active">
  <h1>Cutie, are you ready?ğŸ˜º</h1>
  <button onclick="goNext()">Ofcourse yesğŸ‘€</button>
</div>

<div id="page2" class="page">
  <h1>Happy Valentine DayğŸŒ¹â¤ï¸</h1>
  <button onclick="openPopup()">Thank YouğŸ«£</button>
</div>

<div id="popup">
  <div id="popupBox">
    <h2 id="popupQuestion">Would you like to be my Valentine?ğŸ‘‰ğŸ»ğŸ‘ˆğŸ»</h2>

    <div id="btnArea">
      <button id="yesBtn" onclick="finalYes()">YesğŸ˜˜ğŸ’•</button>
      <button id="noBtn" onclick="pressNo()">NoğŸ˜ ğŸ˜</button>
    </div>
  </div>
</div>

<div id="finalPage" class="page">
  <h1>Ab Officially....tum meri Valentine hoğŸ‘©ğŸ»â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ğŸ»ğŸ˜‰</h1>
</div>

<script>
const emojis = ["ğŸ’","ğŸŒ·","ğŸ’‹","âœ¨","ğŸ§¿","ğŸ§¸","ğŸ€"];

function createFall(){
  const el = document.createElement("div");
  el.className = "fall";
  el.innerText = emojis[Math.floor(Math.random()*emojis.length)];

  el.style.left = Math.random()*100 + "vw";
  el.style.animationDuration = (6 + Math.random()*6) + "s";
  el.style.fontSize = (18 + Math.random()*12) + "px";

  document.getElementById("bgAnimation").appendChild(el);

  setTimeout(()=>el.remove(),12000);
}

/* continuous soft rain */
setInterval(createFall, 600);

function goNext(){
  page1.classList.remove("active");
  page2.classList.add("active");
}

let yesScale, noScale, noOffset;
let animationStarted = false;
let noClicks = 0;

function openPopup(){
  popup.style.display = "flex";
  page2.classList.add("blur");

  yesScale = 1;
  noScale = 1;
  noOffset = 120;
  noClicks = 0;
  animationStarted = false;

  btnArea.className = "";
  yesBtn.className = "";
  noBtn.className = "";
  noBtn.style.display = "inline-block";

  popupQuestion.innerText = "Would you like to be my Valentine?ğŸ‘‰ğŸ»ğŸ‘ˆğŸ»";
}

function pressNo(){
  if(!animationStarted){
    animationStarted = true;
    btnArea.classList.add("absolute");
    yesBtn.classList.add("absolute");
    noBtn.classList.add("absolute");
  }

  const lines = [
    "Ek baar phir soch loğŸ¥º",
    "Sach bolun? YES bolne me zyada maza haiğŸŒ",
    "Itna bhaav achha nahiğŸ˜",
    "Ab bas YES hi bacha haiğŸ˜‹"
  ];

  popupQuestion.innerText =
    lines[Math.min(lines.length - 1, noClicks)];
  noClicks++;

  yesScale += 0.22;
  noScale -= 0.18;
  noOffset -= 18;

  yesBtn.style.transform =
    `translate(-50%, -50%) scale(${yesScale})`;

  noBtn.style.transform =
    `translate(${noOffset}px, -50%) scale(${Math.max(noScale,0)})`;

  if(noScale <= 0){
    noBtn.style.display = "none";
  }
}

function finalYes(){
  popup.style.display="none";
  page2.classList.remove("blur","active");
  finalPage.classList.add("active");

  heartBurst();

  const song = document.getElementById("loveSong");
  song.currentTime = 0;
  fadeInAudio(song);
}

function heartBurst(){
  const hearts = ["ğŸ§¿","ğŸŒ¸","ğŸ’˜","ğŸ’•","ğŸ€"];

  for(let i=0;i<30;i++){
    const heart = document.createElement("div");
    heart.className = "heart";
    heart.innerText = hearts[Math.floor(Math.random()*hearts.length)];

    heart.style.setProperty("--x",(Math.random()*400 - 200) + "px");
    heart.style.setProperty("--y",(Math.random()*400 - 200) + "px");

    document.body.appendChild(heart);
    setTimeout(()=>heart.remove(),1200);
  }
}

function fadeInAudio(audio){
  audio.volume = 0;
  audio.play();

  let vol = 0;
  const fade = setInterval(()=>{
    vol += 0.02;
    if(vol >= 0.6){
      vol = 0.6;      // max volume (soft hi rahe)
      clearInterval(fade);
    }
    audio.volume = vol;
  }, 100);
}

</script>

</body>
</html>
